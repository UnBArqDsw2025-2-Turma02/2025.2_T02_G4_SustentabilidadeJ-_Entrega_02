# Diagrama de Pacotes

## Introdução

<q>O diagrama de pacotes é um diagrama estrutural que tem por objetivo represen-
tar os subsistemas ou submódulos englobados por um sistema de forma a de-
terminar as partes que o compõem. Pode ser utilizado de maneira independente
ou associado com outros diagramas. </q> <a id="anchor_1" href=#FRM1> [1]</a> (GUEDES, 2011, p. 33).

Na prática, isso significa que o diagrama de pacotes ajuda a organizar visualmente o sistema em blocos lógicos, mostrando como os diferentes módulos estão agrupados e como se conectam. Essa representação facilita tanto a compreensão da estrutura geral quanto a manutenção do sistema, já que fica mais claro quais partes podem ser modificadas juntas e como cada pacote depende dos outros. Além disso, quando usado junto de outros diagramas, o diagrama de pacotes funciona como um mapa de referência, situando cada componente dentro da arquitetura maior.

# Metodologia

A construção do diagrama de pacotes foi realizada de forma colaborativa em uma reunião entre os integrantes Artur Mendonça Arruda, Gabriel Lopes e Lucas Mendonça Arruda. O processo metodológico adotado envolveu as seguintes etapas:

1. *Revisão de Conceitos e Referências*  
   - Antes da definição final, foram consultadas referências teóricas e exemplos de diagramas UML para garantir que a notação estivesse correta. Essa revisão foi fundamental para esclarecer dúvidas, como a posição do <<framework>> e <<database>> no modelo.

2. *Definição da Estrutura do Frontend*  
   - Foi discutido o papel do pacote utils, que inicialmente gerou dúvida sobre sua posição e função no sistema. Após análise, ficou decidido que ele permaneceria como módulo auxiliar para abstrações e funções reutilizáveis.  
   - Foi identificado que os pacotes components deveriam *depender dos assets*, e não o contrário, visto que os componentes consomem ícones, imagens e estilos.

3. *Notação e Elementos do Backend*  
   - Houve debate sobre a correta utilização da notação <<framework>> para o *Django 5.0* e <<database>> para o *PostgreSQL. A dúvida sobre se esses elementos deveriam ou não estar dentro das pastas foi resolvida após pesquisa, concluindo-se que essa notação deve ser mantida **dentro do diagrama* como parte da representação de dependências externas.  

4. *Relações entre Pacotes*  
   - Foi observado que os pacotes marketplace e tokens apresentavam uma relação de interdependência. Como essa relação poderia criar confusão visual e não agregava clareza ao modelo, optou-se por *remover a seta* entre eles.  
   - No caso da API, foi entendido que o pacote services/api (no frontend) depende diretamente do *backend em geral*, sendo configurada a seta de dependência apropriada.

5. *Validação da Estrutura*  
   - As decisões foram validadas em conjunto, assegurando que o diagrama representasse corretamente a arquitetura proposta sem redundâncias ou inconsistências.


## Resultado
**1° Diagrama de pacotes do SustentabilidadeJá:** 
![Diagrama](../assets/Diagrama_de_pacotes.png)

Autor(es): [Artur Mendonça Arruda](https://github.com/ArtyMend07), [Gabriel Lopes de Amorim](https://github.com/BrzGab) e [Lucas Mendonça Arruda](https://github.com/lucasarruda9), 2025.

## Legenda

**Tabela 1** Legenda

| Legenda |    Representação    |
| :----: | :--------: |
| Pacote  | ![](../assets/legenda-pacote.png) |
| Dependência  | ![](../assets/legenda-dependecia.png)|

---

### Frontend  
Os principais pacotes definidos para o front-end são:  

- **components/**: Contém componentes reutilizáveis da interface, como `buttons`, `inputs`, `cards` e `headers`.  
- **pages/**: Representa as páginas principais da aplicação, como `HomePage`, `ActionsPage`, `MarketplacePage` e `DashboardPage`.  
- **services/api/**: Responsável por interações com APIs externas, contendo `authService` e `api`.  
- **routes/**: Define as rotas de navegação entre as páginas.  
- **assets/**: Reúne recursos estáticos da aplicação, como `icons`, `images` e `styles`.  
- **utils/**: Contém funções utilitárias que dão suporte a diferentes partes do sistema.  
- **app/**: Ponto de configuração principal da aplicação.  
- **index/**: Arquivo de entrada da aplicação, responsável por carregar a estrutura do app.  

- Os diretórios do frontend seguem padrões comuns em diversos padrões que utilizam do *framework* React.

---

### Backend  
O backend está organizado em subsistemas e pacotes que estruturam a API:  

- **Core (subsystem)**:  
  - **settings**: Configurações globais do sistema.  
  - **urls**: Arquivo de roteamento principal da aplicação.  

- **External Dependencies**:  
  - **framework**: Django 5.0, utilizado como base do backend.  
  - **database**: PostgreSQL, banco de dados da aplicação.  

- **Infrastructure Layer**:  
  - **common**: Funcionalidades e módulos compartilhados.  
  - **templates**: Estruturas reutilizáveis do backend.  
  - **tests**: Conjunto de testes automatizados.  

- **App (subsystem)**:  
  - **Authentication**: Responsável pelo processo de autenticação de usuários.  
  - **actions**: Gerencia as ações realizadas pelos usuários.  
  - **tokens**: Controla a geração e gerenciamento de tokens.  
  - **rewards**: Pacote que implementa o sistema de recompensas.  
  - **marketplace**: Módulo para operações do mercado interno da aplicação.  

- O diagrama de pacotes do backend representa a API que será desenvolvida com Django e Django REST Framework.

## Gravação da Reunião

A seguir está disponível a gravação em vídeo que ilustra o processo de discussão e implementação do diagrama:

[![Assista à gravação](https://img.youtube.com/vi/F_u0mMMW8C4/0.jpg)](https://youtu.be/F_u0mMMW8C4)

Link da reunião em: https://youtu.be/F_u0mMMW8C4

## Resultado 2
**2° Diagrama de pacotes do SustentabilidadeJá:** 
![Diagrama](../assets/diagrama_de_pacotes.drawio.png)

Autor(es): [Davi Emanuel Ribeiro de Oliveira](https://github.com/ArtyMend07), [Ana Luiza Komatsu Aroeira](https://github.com/BrzGab) e [Gustavo Mendonça Arruda](https://github.com/lucasarruda9), 2025.
# Pacotes

## 1. Portal Web
Principal canal de acesso ao sistema. Permite que alunos e administradores interajam com as funcionalidades de monitoramento de consumo e registro de ações sustentáveis.  

- **Relações:** utiliza («usar») os pacotes **Monitoramento de Consumo** e **Ações Sustentáveis**.  
- **Fusão:** pode ser fundido («fundir») a outros canais de acesso, pois compartilha estrutura funcional semelhante.  

---

## 2. App Mobile
Versão móvel do sistema, garantindo acessibilidade em smartphones. Possibilita o registro rápido de ações sustentáveis (ex.: envio de fotos) e acompanhamento de métricas.  

- **Relações:** utiliza («usar») os pacotes **Monitoramento de Consumo** e **Ações Sustentáveis**.  
- **Fusão:** integra-se («fundir») ao **Portal Web** e ao **Painel Admin**.  

---

## 3. Painel Admin
Ferramenta destinada à gestão institucional, permitindo a validação de ações, supervisão de consumo e acompanhamento de indicadores.  

- **Relações:** utiliza («usar») **Monitoramento de Consumo** e **Ações Sustentáveis**.  
- **Fusão:** compartilhamento de elementos («fundir») com os demais canais de acesso.  

---

## 4. Integrações (APIs Parceiras)
Módulo de comunicação com sistemas externos, como refeitórios e instituições parceiras. Possibilita a troca de tokens por descontos e outros benefícios.  

- **Relações:** utiliza («usar») diretamente o pacote **Tokens & Parcerias**.  

---

## 5. Monitoramento de Consumo
Serviço responsável pelo registro de contas de água e energia, cálculo de economia e comparação entre períodos.  

- **Relações:**  
  - importa («importar») dados do **Cadastro & Usuários**;  
  - acessa («acessar») o pacote **Tokens & Parcerias** para conceder recompensas baseadas na economia registrada.  

---

## 6. Ações Sustentáveis
Pacote que gerencia o registro de práticas sustentáveis realizadas pelos alunos (reciclagem, transporte coletivo, plantio, descarte correto). Também inclui a validação de evidências (como fotos).  

- **Relações:**  
  - importa («importar») informações do **Cadastro & Usuários**;  
  - acessa («acessar») o pacote **Tokens & Parcerias** para liberar recompensas.  

---

## 7. Cadastro & Usuários
Base de dados e funcionalidades relacionadas à autenticação, perfis e histórico de participação dos usuários.  

- **Relações:** é importado («importar») tanto pelo **Monitoramento de Consumo** quanto por **Ações Sustentáveis**.  

---

## 8. Tokens & Parcerias
Pacote responsável pela lógica de gamificação, armazenando saldo de tokens, gerindo recompensas e integrando-se com parceiros externos para benefícios acadêmicos e sociais.  

- **Relações:** é acessado («acessar») por **Monitoramento de Consumo** e **Ações Sustentáveis**, e utilizado («usar») por **Integrações (APIs Parceiras)**.  

---

## Relacionamentos no Diagrama
- **Canais de acesso** (Portal Web, App Mobile, Painel Admin, Integrações) → **Serviços Principais** (Monitoramento e Ações) via «usar».  
- **Serviços** → **Bases de Dados e Recursos** (Cadastro & Usuários, Tokens & Parcerias) via «importar» e «acessar».  
- **Canais entre si:** podem ser fundidos («fundir») para indicar que compartilham elementos de design e funcionalidades comuns.  


# Análise Crítica

Durante a elaboração do diagrama de pacotes, alguns pontos positivos e desafios puderam ser identificados:

- *Clareza das dependências*  
  A decisão de inverter a dependência entre components e assets trouxe maior coerência, pois refletiu de forma mais fiel a realidade de um projeto React, no qual os componentes consomem recursos gráficos e estilísticos.

- *Consistência na notação UML*  
  O esclarecimento sobre a posição do <<framework>> e <<database>> foi essencial para garantir a padronização do diagrama. Isso demonstra a importância de alinhar prática com teoria, evitando interpretações equivocadas da UML.

- *Simplicidade versus completude*  
  A retirada da seta de dependência entre marketplace e tokens trouxe simplicidade ao modelo, mas também levantou uma reflexão: embora visualmente o diagrama tenha ficado mais limpo, a relação conceitual entre esses pacotes é relevante. Essa decisão pode exigir documentação complementar para que a interdependência não seja esquecida no desenvolvimento.

- **Fragilidade na abstração do utils**  
  Apesar de ter sido mantido, o pacote utils ainda carece de definição clara de responsabilidades. Existe o risco de ele se tornar um repositório genérico de funções sem coesão, prejudicando a manutenibilidade do sistema.

- *Integração Frontend/Backend*  
  Foi corretamente identificado que o frontend (services/api) depende do backend como um todo. Contudo, o diagrama ainda não deixa explícitos os limites contratuais dessa integração (por exemplo, via REST ou GraphQL), o que poderia enriquecer a modelagem.
  
## Referências Bibliográficas

> <a id="FRM1" href="#anchor_1">1.</a>GUEDES, Gilleanes T. A. UML 2: uma abordagem prática. 2. ed. São Paulo: Novatec, 2011.
![livro UML 2](https://raw.githubusercontent.com/UnBArqDsw2025-2-Turma02/2025.2_T02_G4_SustentabilidadeJ-_Entrega_02/refs/heads/docs-diagrama-estado/docs/assets/Diagramas/Estados/referencia.png)

## Bibliografia

> 1. UML Diagrams. Deployment diagrams. Disponível em: https://www.uml-diagrams.org/package-diagrams.html#google_vignette. Acesso em 21 de setembro de 2025:

## Histórico de Versões

| Versão | Descrição                            | Autor(es)                                                                                         | Data       | Revisor(es)                                                                                                 | Data de Revisão |
| ------ | ------------------------------------ | ------------------------------------------------------------------------------------------------- | ---------- | ----------------------------------------------------------------------------------------------------------- | --------- |
| 1.0    | Criação e inclusão do Diagrama de Pacotes | [Artur Mendonça Arruda](https://github.com/ArtyMend07), [Gabriel Lopes de Amorim](https://github.com/BrzGab) e [Lucas Mendonça Arruda](https://github.com/lucasarruda9) | 21/09/2025 | [Lucas de Oliveira](https://github.com/LucasOliveiraDiasMarquesFerreira) | 22/09/2025|
| 1.1    | Criação e inclusão do Diagrama de Pacotes | [Davi Emanuel Ribeiro de Oliveira](https://github.com/ArtyMend07), [Ana Luiza Komatsu Aroeira](https://github.com/BrzGab), [Gustavo Mendonça Arruda](https://github.com/lucasarruda9) e [Lucas de Oliveira](https://github.com/LucasOliveiraDiasMarquesFerreira) | 22/09/2025 |  | |
